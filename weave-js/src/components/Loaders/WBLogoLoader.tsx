// this component is heavy on the animations and uses many keyframes,
// so opting for .less file rather than tailwind for styling
import './WBLogoLoader.less';

import React, {useEffect, useState} from 'react';

/**
 * How long to display each loading text before rotating to the next one.
 * NOTE: must match columns & texts animation durations in WBLogoLoader.less
 */
const TEXT_CAROUSEL_INTERVAL = 4000;

export type WBLogoLoaderProps = {
  loadingTexts: string[];
};

export const WBLogoLoader = ({loadingTexts}: WBLogoLoaderProps) => {
  const [textIdx, setTextIdx] = useState(0);

  useEffect(() => {
    const intervalID = setInterval(() => {
      setTextIdx(prev => (prev < loadingTexts.length - 1 ? prev + 1 : 0));
    }, TEXT_CAROUSEL_INTERVAL);
    return () => {
      clearInterval(intervalID);
    };
  }, [loadingTexts.length]);

  return (
    <div className="wb-logo-loader">
      <div className="logo-animation">
        <div className="fade-overlay" />
        <div className="columns">
          <Column1 />
          <Column2 />
          <Column3 />
        </div>
      </div>
      {loadingTexts.length > 0 && (
        <div className="loading-texts">
          {loadingTexts.length === 1 ? (
            loadingTexts[0]
          ) : (
            <div className="text-carousel">{loadingTexts[textIdx]}</div>
          )}
        </div>
      )}
    </div>
  );
};

const Column1 = () => {
  return (
    <svg
      className="column-1"
      width="10"
      height="197"
      viewBox="0 0 10 197"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg">
      <path d="M5 6.25009C3.27409 6.25009 1.87495 4.85096 1.87495 3.12504C1.87495 1.39913 3.27409 0 5 0C6.72592 0 8.12505 1.39913 8.12505 3.12504C8.12505 4.85096 6.72592 6.25009 5 6.25009Z" />
      <path d="M5 20.6252C2.23858 20.6252 0 18.3867 0 15.6252C0 12.8638 2.23858 10.6252 5 10.6252C7.76142 10.6252 10 12.8638 10 15.6252C10 18.3867 7.76142 20.6252 5 20.6252Z" />
      <path d="M5 45.6251C2.23858 45.6251 0 43.3866 0 40.6251C0 37.8637 2.23858 35.6251 5 35.6251C7.76142 35.6251 10 37.8637 10 40.6251C10 43.3866 7.76142 45.6251 5 45.6251Z" />
      <path d="M1.87495 28.1254C1.87495 29.8514 3.27409 31.2505 5 31.2505C6.72592 31.2505 8.12505 29.8514 8.12505 28.1254C8.12505 26.3995 6.72592 25.0004 5 25.0004C3.27409 25.0004 1.87495 26.3995 1.87495 28.1254Z" />
      <path d="M5 55.9212C3.27409 55.9212 1.87495 54.5221 1.87495 52.7962C1.87495 51.0702 3.27409 49.6711 5 49.6711C6.72592 49.6711 8.12505 51.0702 8.12505 52.7962C8.12505 54.5221 6.72592 55.9212 5 55.9212Z" />
      <path d="M5 70.2963C2.23858 70.2963 0 68.0578 0 65.2963C0 62.5349 2.23858 60.2964 5 60.2964C7.76142 60.2964 10 62.5349 10 65.2963C10 68.0578 7.76142 70.2963 5 70.2963Z" />
      <path d="M5 95.2962C2.23858 95.2962 0 93.0577 0 90.2962C0 87.5348 2.23858 85.2963 5 85.2963C7.76142 85.2963 10 87.5348 10 90.2962C10 93.0577 7.76142 95.2962 5 95.2962Z" />
      <path d="M1.87495 77.7966C1.87495 79.5225 3.27409 80.9216 5 80.9216C6.72592 80.9216 8.12505 79.5225 8.12505 77.7966C8.12505 76.0706 6.72592 74.6715 5 74.6715C3.27409 74.6715 1.87495 76.0706 1.87495 77.7966Z" />
      <path d="M5 107.5C3.27409 107.5 1.87495 106.101 1.87495 104.375C1.87495 102.649 3.27409 101.25 5 101.25C6.72592 101.25 8.12505 102.649 8.12505 104.375C8.12505 106.101 6.72592 107.5 5 107.5Z" />
      <path d="M5 121.875C2.23858 121.875 0 119.637 0 116.875C0 114.114 2.23858 111.875 5 111.875C7.76142 111.875 10 114.114 10 116.875C10 119.637 7.76142 121.875 5 121.875Z" />
      <path d="M5 146.875C2.23858 146.875 0 144.637 0 141.875C0 139.114 2.23858 136.875 5 136.875C7.76142 136.875 10 139.114 10 141.875C10 144.637 7.76142 146.875 5 146.875Z" />
      <path d="M1.87495 129.376C1.87495 131.101 3.27409 132.501 5 132.501C6.72592 132.501 8.12505 131.101 8.12505 129.376C8.12505 127.65 6.72592 126.25 5 126.25C3.27409 126.25 1.87495 127.65 1.87495 129.376Z" />
      <path d="M5 157.171C3.27409 157.171 1.87495 155.772 1.87495 154.046C1.87495 152.32 3.27409 150.921 5 150.921C6.72592 150.921 8.12505 152.32 8.12505 154.046C8.12505 155.772 6.72592 157.171 5 157.171Z" />
      <path d="M5 171.546C2.23858 171.546 0 169.308 0 166.546C0 163.785 2.23858 161.546 5 161.546C7.76142 161.546 10 163.785 10 166.546C10 169.308 7.76142 171.546 5 171.546Z" />
      <path d="M5 196.546C2.23858 196.546 0 194.308 0 191.546C0 188.785 2.23858 186.546 5 186.546C7.76142 186.546 10 188.785 10 191.546C10 194.308 7.76142 196.546 5 196.546Z" />
      <path d="M1.87495 179.047C1.87495 180.773 3.27409 182.172 5 182.172C6.72592 182.172 8.12505 180.773 8.12505 179.047C8.12505 177.321 6.72592 175.922 5 175.922C3.27409 175.922 1.87495 177.321 1.87495 179.047Z" />
    </svg>
  );
};

const Column2 = () => {
  return (
    <svg
      className="column-2"
      width="10"
      height="193.8"
      viewBox="0 0 10 194.35"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg">
      <path d="M1.87498 104.225C1.87498 105.951 3.27411 107.35 5.00003 107.35C6.72595 107.35 8.12508 105.951 8.12508 104.225C8.12508 102.499 6.72595 101.1 5.00003 101.1C3.27411 101.1 1.87498 102.499 1.87498 104.225Z" />
      <path d="M1.87498 116.725C1.87498 118.451 3.27411 119.85 5.00003 119.85C6.72595 119.85 8.12508 118.451 8.12508 116.725C8.12508 114.999 6.72595 113.6 5.00003 113.6C3.27411 113.6 1.87498 114.999 1.87498 116.725Z" />
      <path d="M5 134.225C2.23858 134.225 0 131.987 0 129.225C0 126.464 2.23858 124.225 5 124.225C7.76143 124.225 10 126.464 10 129.225C10 131.987 7.76143 134.225 5 134.225Z" />
      <path d="M1.87498 141.725C1.87498 143.451 3.27411 144.85 5.00003 144.85C6.72595 144.85 8.12508 143.451 8.12508 141.725C8.12508 139.999 6.72595 138.6 5.00003 138.6C3.27411 138.6 1.87498 139.999 1.87498 141.725Z" />
      <path d="M1.87498 153.77C1.87498 155.496 3.27411 156.895 5.00003 156.895C6.72595 156.895 8.12508 155.496 8.12508 153.77C8.12508 152.044 6.72595 150.645 5.00003 150.645C3.27411 150.645 1.87498 152.044 1.87498 153.77Z" />
      <path d="M1.87498 166.27C1.87498 167.996 3.27411 169.395 5.00003 169.395C6.72595 169.395 8.12508 167.996 8.12508 166.27C8.12508 164.545 6.72595 163.145 5.00003 163.145C3.27411 163.145 1.87498 164.545 1.87498 166.27Z" />
      <path d="M5 183.77C2.23858 183.77 0 181.532 0 178.77C0 176.009 2.23858 173.77 5 173.77C7.76143 173.77 10 176.009 10 178.77C10 181.532 7.76143 183.77 5 183.77Z" />
      <path d="M1.87498 191.27C1.87498 192.996 3.27411 194.395 5.00003 194.395C6.72595 194.395 8.12508 192.996 8.12508 191.27C8.12508 189.545 6.72595 188.145 5.00003 188.145C3.27411 188.145 1.87498 189.545 1.87498 191.27Z" />
      <path d="M1.87498 3.72514C1.87498 5.45106 3.27411 6.85018 5.00003 6.85018C6.72595 6.85018 8.12508 5.45106 8.12508 3.72514C8.12508 1.99923 6.72595 0.600098 5.00003 0.600098C3.27411 0.600098 1.87498 1.99923 1.87498 3.72514Z" />
      <path d="M1.87498 16.2253C1.87498 17.9512 3.27411 19.3504 5.00003 19.3504C6.72595 19.3504 8.12508 17.9512 8.12508 16.2253C8.12508 14.4994 6.72595 13.1003 5.00003 13.1003C3.27411 13.1003 1.87498 14.4994 1.87498 16.2253Z" />
      <path d="M5 33.7251C2.23858 33.7251 0 31.4865 0 28.7251C0 25.9637 2.23858 23.7251 5 23.7251C7.76143 23.7251 10 25.9637 10 28.7251C10 31.4865 7.76143 33.7251 5 33.7251Z" />
      <path d="M1.87498 41.2253C1.87498 42.9512 3.27411 44.3504 5.00003 44.3504C6.72595 44.3504 8.12508 42.9512 8.12508 41.2253C8.12508 39.4994 6.72595 38.1003 5.00003 38.1003C3.27411 38.1003 1.87498 39.4994 1.87498 41.2253Z" />
      <path d="M1.87498 53.2702C1.87498 54.9962 3.27411 56.3953 5.00003 56.3953C6.72595 56.3953 8.12508 54.9962 8.12508 53.2702C8.12508 51.5443 6.72595 50.1452 5.00003 50.1452C3.27411 50.1452 1.87498 51.5443 1.87498 53.2702Z" />
      <path d="M1.87498 65.7704C1.87498 67.4963 3.27411 68.8955 5.00003 68.8955C6.72595 68.8955 8.12508 67.4963 8.12508 65.7704C8.12508 64.0445 6.72595 62.6454 5.00003 62.6454C3.27411 62.6454 1.87498 64.0445 1.87498 65.7704Z" />
      <path d="M5 83.2702C2.23858 83.2702 0 81.0316 0 78.2702C0 75.5088 2.23858 73.2702 5 73.2702C7.76143 73.2702 10 75.5088 10 78.2702C10 81.0316 7.76143 83.2702 5 83.2702Z" />
      <path d="M1.87498 90.7704C1.87498 92.4963 3.27411 93.8955 5.00003 93.8955C6.72595 93.8955 8.12508 92.4963 8.12508 90.7704C8.12508 89.0445 6.72595 87.6454 5.00003 87.6454C3.27411 87.6454 1.87498 89.0445 1.87498 90.7704Z" />
    </svg>
  );
};

const Column3 = () => {
  return (
    <svg
      className="column-3"
      width="10"
      height="197"
      viewBox="0 0 10 197"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg">
      <path d="M1.87504 3.12504C1.87504 4.85096 3.27417 6.25009 5.00009 6.25009C6.72601 6.25009 8.12514 4.85096 8.12514 3.12504C8.12514 1.39913 6.72601 0 5.00009 0C3.27417 0 1.87504 1.39913 1.87504 3.12504Z" />
      <path d="M5 20.6252C2.23858 20.6252 0 18.3866 0 15.6252C0 12.8638 2.23858 10.6252 5 10.6252C7.76142 10.6252 10 12.8638 10 15.6252C10 18.3866 7.76142 20.6252 5 20.6252Z" />
      <path d="M1.87504 28.1254C1.87504 29.8514 3.27417 31.2505 5.00009 31.2505C6.72601 31.2505 8.12514 29.8514 8.12514 28.1254C8.12514 26.3995 6.72601 25.0004 5.00009 25.0004C3.27417 25.0004 1.87504 26.3995 1.87504 28.1254Z" />
      <path d="M1.87504 40.6252C1.87504 42.3511 3.27417 43.7502 5.00009 43.7502C6.72601 43.7502 8.12514 42.3511 8.12514 40.6252C8.12514 38.8993 6.72601 37.5001 5.00009 37.5001C3.27417 37.5001 1.87504 38.8993 1.87504 40.6252Z" />
      <path d="M1.87504 52.1482C1.87504 53.8741 3.27417 55.2732 5.00009 55.2732C6.72601 55.2732 8.12514 53.8741 8.12514 52.1482C8.12514 50.4222 6.72601 49.0231 5.00009 49.0231C3.27417 49.0231 1.87504 50.4222 1.87504 52.1482Z" />
      <path d="M5 69.6483C2.23858 69.6483 0 67.4098 0 64.6483C0 61.8869 2.23858 59.6484 5 59.6484C7.76142 59.6484 10 61.8869 10 64.6483C10 67.4098 7.76142 69.6483 5 69.6483Z" />
      <path d="M1.87504 77.1486C1.87504 78.8745 3.27417 80.2736 5.00009 80.2736C6.72601 80.2736 8.12514 78.8745 8.12514 77.1486C8.12514 75.4226 6.72601 74.0235 5.00009 74.0235C3.27417 74.0235 1.87504 75.4226 1.87504 77.1486Z" />
      <path d="M1.87504 89.6483C1.87504 91.3742 3.27417 92.7734 5.00009 92.7734C6.72601 92.7734 8.12514 91.3742 8.12514 89.6483C8.12514 87.9224 6.72601 86.5233 5.00009 86.5233C3.27417 86.5233 1.87504 87.9224 1.87504 89.6483Z" />
      <path d="M1.87516 102.125C1.87516 103.851 3.27429 105.25 5.00021 105.25C6.72613 105.25 8.12526 103.851 8.12526 102.125C8.12526 100.399 6.72613 99 5.00021 99C3.27429 99 1.87516 100.399 1.87516 102.125Z" />
      <path d="M5.00012 119.625C2.2387 119.625 0.000123024 117.387 0.000123024 114.625C0.000123024 111.864 2.2387 109.625 5.00012 109.625C7.76155 109.625 10.0001 111.864 10.0001 114.625C10.0001 117.387 7.76155 119.625 5.00012 119.625Z" />
      <path d="M1.87516 127.125C1.87516 128.851 3.27429 130.25 5.00021 130.25C6.72613 130.25 8.12526 128.851 8.12526 127.125C8.12526 125.4 6.72613 124 5.00021 124C3.27429 124 1.87516 125.4 1.87516 127.125Z" />
      <path d="M1.87516 139.625C1.87516 141.351 3.27429 142.75 5.00021 142.75C6.72613 142.75 8.12526 141.351 8.12526 139.625C8.12526 137.899 6.72613 136.5 5.00021 136.5C3.27429 136.5 1.87516 137.899 1.87516 139.625Z" />
      <path d="M1.87516 151.148C1.87516 152.874 3.27429 154.273 5.00021 154.273C6.72613 154.273 8.12526 152.874 8.12526 151.148C8.12526 149.422 6.72613 148.023 5.00021 148.023C3.27429 148.023 1.87516 149.422 1.87516 151.148Z" />
      <path d="M5.00012 168.648C2.2387 168.648 0.000123024 166.41 0.000123024 163.648C0.000123024 160.887 2.2387 158.648 5.00012 158.648C7.76155 158.648 10.0001 160.887 10.0001 163.648C10.0001 166.41 7.76155 168.648 5.00012 168.648Z" />
      <path d="M1.87516 176.149C1.87516 177.874 3.27429 179.274 5.00021 179.274C6.72613 179.274 8.12526 177.874 8.12526 176.149C8.12526 174.423 6.72613 173.024 5.00021 173.024C3.27429 173.024 1.87516 174.423 1.87516 176.149Z" />
      <path d="M1.87516 188.648C1.87516 190.374 3.27429 191.773 5.00021 191.773C6.72613 191.773 8.12526 190.374 8.12526 188.648C8.12526 186.922 6.72613 185.523 5.00021 185.523C3.27429 185.523 1.87516 186.922 1.87516 188.648Z" />
    </svg>
  );
};
