"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9620],{82464:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var t=n(85893),s=n(11151);const r={},d="Redacting PII",c={id:"guides/tracking/redact-pii",title:"Redacting PII",description:"This feature is only accessible via the Python SDK.",source:"@site/docs/guides/tracking/redact-pii.md",sourceDirName:"guides/tracking",slug:"/guides/tracking/redact-pii",permalink:"/guides/tracking/redact-pii",draft:!1,unlisted:!1,editUrl:"https://github.com/wandb/weave/blob/master/docs/docs/guides/tracking/redact-pii.md",tags:[],version:"current",lastUpdatedAt:1743012452e3,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Feedback",permalink:"/guides/tracking/feedback"},next:{title:"Online Evaluation: Guardrails and Monitors",permalink:"/guides/evaluation/guardrails_and_monitors"}},a={},l=[{value:"Enable PII redaction",id:"enable-pii-redaction",level:2},{value:"Entities redacted by default",id:"entities-redacted-by-default",level:2},{value:"Usage information",id:"usage-information",level:2}];function o(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"redacting-pii",children:"Redacting PII"}),"\n",(0,t.jsx)(i.admonition,{type:"important",children:(0,t.jsx)(i.p,{children:"This feature is only accessible via the Python SDK."})}),"\n",(0,t.jsx)(i.p,{children:"Some organizations process Personally Identifiable Information (PII) such as names, phone numbers, and email addresses in their Large Language Model (LLM) workflows. Storing this data in Weights & Biases (W&B) Weave poses compliance and security risks."}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.em,{children:"Sensitive Data Protection"})," feature allows you to automatically redact Personally Identifiable Information (PII) from a ",(0,t.jsx)(i.a,{href:"/guides/tracking/",children:"trace"})," before it is sent to Weave servers. This feature integrates ",(0,t.jsx)(i.a,{href:"https://microsoft.github.io/presidio/",children:"Microsoft Presidio"})," into the Weave Python SDK, which means that you can control redaction settings at the SDK level."]}),"\n",(0,t.jsx)(i.p,{children:"The Sensitive Data Protection feature introduces the following functionality to the Python SDK:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["A ",(0,t.jsx)(i.code,{children:"redact_pii"})," setting, which can be toggled on or off in the ",(0,t.jsx)(i.code,{children:"weave.init"})," call to enable PII redaction."]}),"\n",(0,t.jsxs)(i.li,{children:["Automatic redaction of ",(0,t.jsx)(i.a,{href:"#entities-redacted-by-default",children:"common entities"})," when ",(0,t.jsx)(i.code,{children:"redact_pii = True"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["Customizable redaction fields using the configurable ",(0,t.jsx)(i.code,{children:"redact_pii_fields"})," setting."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"enable-pii-redaction",children:"Enable PII redaction"}),"\n",(0,t.jsx)(i.p,{children:"To get started with the Sensitive Data Protection feature in Weave, complete the following steps:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Install the required dependencies:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"pip install presidio-analyzer presidio-anonymizer\n"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Modify your ",(0,t.jsx)(i.code,{children:"weave.init"})," call to enable redaction. When ",(0,t.jsx)(i.code,{children:"redact_pii=True"}),", ",(0,t.jsx)(i.a,{href:"#entities-redacted-by-default",children:"common entities are redacted by default"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'import weave\n\nweave.init("my-project", settings={"redact_pii": True})\n'})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["(Optional) Customize redaction fields using the ",(0,t.jsx)(i.code,{children:"redact_pii_fields"})," parameter:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'weave.init("my-project", settings={"redact_pii": True, "redact_pii_fields"=["CREDIT_CARD", "US_SSN"]})\n'})}),"\n",(0,t.jsxs)(i.p,{children:["For a full list of the entities that can be detected and redacted, see ",(0,t.jsx)(i.a,{href:"https://microsoft.github.io/presidio/supported_entities/",children:"PII entities supported by Presidio"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"entities-redacted-by-default",children:"Entities redacted by default"}),"\n",(0,t.jsx)(i.p,{children:"The following entities are automatically redacted when PII redaction is enabled:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"CREDIT_CARD"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"CRYPTO"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"EMAIL_ADDRESS"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"ES_NIF"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"FI_PERSONAL_IDENTITY_CODE"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"IBAN_CODE"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"IN_AADHAAR"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"IN_PAN"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"IP_ADDRESS"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"LOCATION"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"PERSON"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"PHONE_NUMBER"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"UK_NHS"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"UK_NINO"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"US_BANK_NUMBER"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"US_DRIVER_LICENSE"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"US_PASSPORT"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"US_SSN"})}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"usage-information",children:"Usage information"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"This feature is only available in the Python SDK."}),"\n",(0,t.jsx)(i.li,{children:"Enabling redaction increases processing time due to the Presidio dependency."}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},11151:(e,i,n)=>{n.d(i,{Z:()=>c,a:()=>d});var t=n(67294);const s={},r=t.createContext(s);function d(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);