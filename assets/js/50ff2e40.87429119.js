"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5403],{80317:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>i});var a=t(85893),c=t(11151);const r={sidebar_label:"op"},l="weave.trace.op",s={id:"reference/python-sdk/weave/trace/weave.trace.op",title:"weave.trace.op",description:"Defines the Op protocol and related functions.",source:"@site/docs/reference/python-sdk/weave/trace/weave.trace.op.md",sourceDirName:"reference/python-sdk/weave/trace",slug:"/reference/python-sdk/weave/trace/weave.trace.op",permalink:"/reference/python-sdk/weave/trace/weave.trace.op",draft:!1,unlisted:!1,editUrl:"https://github.com/wandb/weave/blob/master/docs/docs/reference/python-sdk/weave/trace/weave.trace.op.md",tags:[],version:"current",lastUpdatedAt:1741220866e3,frontMatter:{sidebar_label:"op"},sidebar:"pythonSdkSidebar",previous:{title:"feedback",permalink:"/reference/python-sdk/weave/trace/weave.trace.feedback"},next:{title:"util",permalink:"/reference/python-sdk/weave/trace/weave.trace.util"}},o={},i=[{value:"Functions",id:"functions",level:2},{value:"<kbd>function</kbd> <code>call</code>",id:"function-call",level:3},{value:"<kbd>function</kbd> <code>calls</code>",id:"function-calls",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"weavetraceop",children:"weave.trace.op"}),"\n",(0,a.jsx)(n.p,{children:"Defines the Op protocol and related functions."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h1,{id:"api-overview",children:"API Overview"}),"\n",(0,a.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#function-call",children:(0,a.jsx)(n.code,{children:"op.call"})}),": Executes the op and returns both the result and a Call representing the execution."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#function-calls",children:(0,a.jsx)(n.code,{children:"op.calls"})}),": Get an iterator over all calls to this op."]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)("a",{href:"https://github.com/wandb/weave/blob/master/weave/trace/op.py#L347",children:(0,a.jsx)("img",{align:"right",src:"https://img.shields.io/badge/-source-cccccc?style=flat-square"})}),"\n",(0,a.jsxs)(n.h3,{id:"function-call",children:[(0,a.jsx)("kbd",{children:"function"})," ",(0,a.jsx)(n.code,{children:"call"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"call(\n    op: 'Op',\n    *args: 'Any',\n    __weave: 'WeaveKwargs | None' = None,\n    __should_raise: 'bool' = False,\n    **kwargs: 'Any'\n) \u2192 tuple[Any, Call] | Coroutine[Any, Any, tuple[Any, Call]]\n"})}),"\n",(0,a.jsx)(n.p,{children:"Executes the op and returns both the result and a Call representing the execution."}),"\n",(0,a.jsx)(n.p,{children:"This function will never raise.  Any errors are captured in the Call object."}),"\n",(0,a.jsxs)(n.p,{children:["This method is automatically bound to any function decorated with ",(0,a.jsx)(n.code,{children:"@weave.op"}),", allowing for usage like:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"@weave.op\ndef add(a: int, b: int) -> int:\n     return a + b\n\nresult, call = add.call(1, 2)\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)("a",{href:"https://github.com/wandb/weave/blob/master/weave/trace/op.py#L526",children:(0,a.jsx)("img",{align:"right",src:"https://img.shields.io/badge/-source-cccccc?style=flat-square"})}),"\n",(0,a.jsxs)(n.h3,{id:"function-calls",children:[(0,a.jsx)("kbd",{children:"function"})," ",(0,a.jsx)(n.code,{children:"calls"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"calls(op: 'Op') \u2192 CallsIter\n"})}),"\n",(0,a.jsx)(n.p,{children:"Get an iterator over all calls to this op."}),"\n",(0,a.jsxs)(n.p,{children:["This method is automatically bound to any function decorated with ",(0,a.jsx)(n.code,{children:"@weave.op"}),", allowing for usage like:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"@weave.op\ndef add(a: int, b: int) -> int:\n     return a + b\n\ncalls = add.calls()\nfor call in calls:\n     print(call)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>l});var a=t(67294);const c={},r=a.createContext(c);function l(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);